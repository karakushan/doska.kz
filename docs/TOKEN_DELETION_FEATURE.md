# Функционал удаления FCM токенов

## Обзор
Добавлен функционал для удаления FCM токенов устройств как в пользовательском интерфейсе, так и в админке WordPress.

## Возможности

### 1. Удаление токенов в пользовательском кабинете
- **Расположение**: `/my-dashboard/` → Notification Settings
- **Функции**:
  - Кнопка "Delete" рядом с каждым токеном
  - Подтверждение удаления
  - Анимация удаления
  - Автоматическое обновление счетчика устройств
  - Перезагрузка страницы при удалении последнего токена

### 2. Удаление токенов в админке WordPress
- **Расположение**: `/wp-admin/profile.php` → Firebase Push Notifications
- **Функции**:
  - Кнопка "Delete" для каждого токена
  - Поддержка удаления токенов других пользователей (для администраторов)
  - Подтверждение удаления
  - Анимация удаления
  - Автоматическое обновление интерфейса

## Технические детали

### Backend (PHP)
- **AJAX обработчик**: `delete_fcm_token`
- **Метод**: `deleteFcmToken()` в классе `Classiadspro_Firebase_Push_Notifications`
- **Безопасность**: Проверка nonce и прав доступа
- **Поддержка админов**: Возможность удаления токенов других пользователей

### Frontend (JavaScript)
- **AJAX запросы**: Использование `fetch()` API
- **UX**: Подтверждение удаления, анимации, обновление интерфейса
- **Обработка ошибок**: Показ сообщений об ошибках

### CSS стили
- **Кнопки удаления**: Красный цвет (#dc3545)
- **Анимации**: Плавные переходы при удалении
- **Адаптивность**: Flexbox для кнопок действий

## Использование

### Для пользователей
1. Перейти в `/my-dashboard/` → Notification Settings
2. Найти нужный токен устройства
3. Нажать кнопку "Delete"
4. Подтвердить удаление
5. Токен будет удален с анимацией

### Для администраторов
1. Перейти в `/wp-admin/profile.php`
2. Найти секцию "Firebase Push Notifications"
3. Нажать кнопку "Delete" рядом с нужным токеном
4. Подтвердить удаление
5. Токен будет удален с анимацией

## Безопасность
- Проверка nonce для всех AJAX запросов
- Проверка прав доступа пользователя
- Санитизация входных данных
- Поддержка удаления токенов других пользователей только для администраторов

## Совместимость
- Работает во всех современных браузерах
- Поддерживает fallback для старых браузеров
- Адаптивный дизайн для мобильных устройств
