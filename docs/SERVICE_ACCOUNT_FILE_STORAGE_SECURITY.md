# üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ Service Account JSON

## üìä **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

### ‚ùå **–°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–ù–ï–ë–ï–ó–û–ü–ê–°–ù–´–ô):**
- ‚ùå Service Account JSON —Ö—Ä–∞–Ω–∏–ª—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –†–∏—Å–∫ —É—Ç–µ—á–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –ë–î
- ‚ùå JSON –≤–∏–¥–µ–ª –∫–∞–∂–¥—ã–π, –∫—Ç–æ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ë–î
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö JSON —Ñ–∞–π–ª–æ–≤

### ‚úÖ **–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (–ë–ï–ó–û–ü–ê–°–ù–´–ô):**
- ‚úÖ –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ **–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É**
- ‚úÖ –°–∞–º Service Account JSON —Ñ–∞–π–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –§–∞–π–ª –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (0600)
- ‚úÖ JSON –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ñ–∞–π–ª –∑–∞—â–∏—â–µ–Ω –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

## üéØ **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### 1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞**
```
User uploads JSON file from Firebase Console
        ‚Üì
File validation (type, JSON format, required fields)
        ‚Üì
File copies to: /uploads/firebase-push-notifications/service-account-[timestamp].json
        ‚Üì
File permissions set to 0600 (readable only by server)
        ‚Üì
File path saved to database: /path/to/uploads/firebase-push-notifications/service-account-1234567890.json
```

### 2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase**
```
Firebase initialization request
        ‚Üì
Read file path from database
        ‚Üì
Load JSON from file (0600 restricted access)
        ‚Üì
Parse and validate JSON
        ‚Üì
Initialize Firebase with service account
        ‚Üì
Firebase ready for operations
```

### 3. **–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î**
```
–¢–∞–±–ª–∏—Ü–∞ wp_options:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ option_name: firebase_service_account_file_path ‚îÇ
‚îÇ option_value: /var/www/uploads/firebase-push-notifications/service-account-1234567890.json ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîí **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

### **1. –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ –ë–î:**
- ‚úÖ –ï—Å–ª–∏ –ë–î —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–∞, –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –î–≤–æ–π–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã (–ë–î + —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

### **2. –§–∞–π–ª–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- ‚úÖ –†–µ–∂–∏–º 0600 - —á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º (www-data)
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–æ –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

### **3. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ë–î –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å/—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ —Ä–∏—Å–∫–∞
- ‚úÖ –ù–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —ç–∫—Å–ø–æ—Ä—Ç–∞—Ö
- ‚úÖ –§–∞–π–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ

### **4. –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π:**
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª –Ω–∞ –Ω–æ–≤—ã–π
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π JSON
- ‚úÖ –°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:**

```
WordPress root
‚îú‚îÄ‚îÄ wp-content/
‚îÇ   ‚îú‚îÄ‚îÄ plugins/firebase-push-notifications/
‚îÇ   ‚îî‚îÄ‚îÄ uploads/
‚îÇ       ‚îî‚îÄ‚îÄ firebase-push-notifications/
‚îÇ           ‚îú‚îÄ‚îÄ service-account-1734267890.json (0600)
‚îÇ           ‚îú‚îÄ‚îÄ service-account-1734267891.json (0600)
‚îÇ           ‚îî‚îÄ‚îÄ service-account-1734267892.json (0600)
```

## üöÄ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

### **–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π Service Account JSON:**
1. **Firebase Push ‚Üí Configuration**
2. **–í—ã–±–µ—Ä–∏—Ç–µ JSON —Ñ–∞–π–ª –∏–∑ Firebase Console**
3. **–ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**
4. **–§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - –°–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ `/uploads/firebase-push-notifications/`
   - –ü–æ–ª—É—á–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ (0600)
   - –ü—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª:**
```php
// –ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
$file_path = get_option('firebase_service_account_file_path');
echo $file_path; // /var/www/uploads/firebase-push-notifications/service-account-1234567890.json

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if (file_exists($file_path) && is_readable($file_path)) {
    echo "‚úÖ File is accessible";
}

// –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
$json = file_get_contents($file_path);
```

## ‚úÖ **–°—Ç–∞—Ç—É—Å:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î | üîê –¢–æ–ª—å–∫–æ –ø—É—Ç—å |
| JSON –Ω–∞ –¥–∏—Å–∫–µ | üîê –ó–∞—â–∏—â–µ–Ω (0600) |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è | ‚úÖ –î–∞ |
| –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ |
| –£—Ç–µ—á–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ | ‚úÖ –ú–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ |

## üìö **–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- `FIREBASE_CONFIGURATION_GUIDE.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `JSON_SYNTAX_ERROR_FIX.md` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ JSON
- `SERVICE_ACCOUNT_FILE_UPLOAD.md` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
